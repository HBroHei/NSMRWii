<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>About - New Super Mario Rando Wii</title>
        <meta name="viewport" content="width=device-width">
        <meta name="keywords" content="Randomizer,NSMBW,New Super Mario Bros,Wii,NSMB,Mario,level,enemy">
        <meta name="description" content="A New Super Mario Bros Wii Randomizer, with not only levels but also enemies randomization. It also supports advanced randomizaation. Updates are planned and will be released for this randomizer.">
    </head>
    <style>
        body{
            font-family: Arial, Helvetica, sans-serif;
            background-color: skyblue;
            padding: 0%;
            margin: 0%;
        }
        button{
            padding: 1%;
            background-color: yellow;
        }
        #padd{
            padding: 1%;
            margin: 1%;
        }
        table,tr,td,th{
            border-style: solid;
            border-width: 1;
            border-collapse:collapse;
            border-spacing: 0px;
        }
    </style>
    <body>
        <div id="topbar" style="width:100%"></div>
        <script src="https://hbrohei.github.io/Nav/topbar.js"></script>
        <div style="height: 5vh;"></div>
        <div id="padd">
            <div style="width:99%;text-align: center; border-style: dashed; background-image: url('big_title.jpg'); background-position: center;">
                <br>
                <span style="font-size: 3.5em; font-weight: bold;">New Super Mario Randomizer Wii</span><br>
                <span style="font-size: 2.5em;">A New Super Mario Bros Wii Randomizer</span>
                <br>
                <br>
            </div>
            <br><br>
            <p>
                A New Super Mario Bros. Wii Randomizer that can randomize enemies, levels and more!<br>
                Below is a large piece of text that descripe the process of the project. Be prepared.
            </p>
            <h1>The inspiration</h1>
            <p>
                When I first disovered the <a href="https://authorblues.github.io/smwrandomizer/">Super Mario World Randomizer</a>, I always
                though that was pretty cool concept.
                The randomizer offers a different enought experiece for players to experience the game again, and to me,
                this is what I value for a game.
                <br>
                Fast-forward to today, a lot of games still doesn't have a flesh-out randomizer, including one of my childhood game,
                New Super Mario Bros Wii. There are a level randomizer (which randomize the files), but not all the other things. Therefore,
                I decided to take on this project for 1, me, and 2, for other NSMBW fans.<br>
                Although I missed the "golden era" of NSMBW (Mainly because I fully understand the modding scene only a few years back, like 2017), I still wish to work on
                this project to increase my experience in programming (This is one of my first actual "big" project since I learnt programming) and
                also gain knowledge in game modding.
            </p>
            <hr>
            <h1>How I got started</h1>
            <p>
                At the time I was already familar with Wii modding scene enough to know for how this project will be going.
                Here is a list of them:
                <table>
                    <tr><th>Item</th><th>Approach</th><th>Description</th></tr>
                    <tr>
                        <td>Programming language</td>
                        <td>Python</td>
                        <td>Can we just talk about how much more convenient Python is, compared to something like Java and C?<br>
                        Although, I have only learnt Python for a few months. (but I have been learning programming for 6 years!)</td>
                    </tr>
                    <tr>
                        <td>Operating System</td>
                        <td>Web (JSON Generator)<br>Win/MacOS/Linux/whatever OS that can run Python locally(Randomizer)</td>
                        <td>I still wish to make it an executable (.exe)(mainly I have no experience in this subject), but the Batch script should be sufficent for now</td>
                    </tr>
                    <tr>
                        <td>User Interface</td>
                        <td>GUI (JSON Generator)<br>CLI (Randomizer)</td>
                        <td>I wish I could make the program GUI in clients' end (the actual Python script), but I will need to learn how to make a GUI application for Python first.<Br>
                        In the mean time, since I am familar with HTML, CSS and JS, I will use that as the GUI platform.</td>
                    </tr>
                    <tr>
                        <td>File format reference</td>
                        <td><a href="https://wiki.tockdom.com/wiki/U8_(File_Format)">Custom Mario Kart Wiki</a> and<br><a href="https://www.github.com/CLF78/Reggie-Next">Reggie! Level editor</a></td>
                        <td>Shout out to the modders out there that "decode" how the file format works, I would not have known how it works otherwise.</td>
                    </tr>
                </table>
            </p>
            <hr>
            <h1>How the program works (v1)</h1>
            <span style="background-color: gold;">For a more detailed guide on how to use the randomizer, see <a href="https://hbrohei.github.io/NSMRWii/generator/tut.html">this guide</a></span>
            <p>
                First, the program would make a backup of all the files so that datas will not be lost during editing. It will also read the configuration file.<br>
                Second, the program would start processing each files.<br>
                The program would first process the levels in th "Skip Level" Section.<br>
                Then it would randomize the levels according to their groups order. That is, the group in front would be processed first.<br>
                Finally, it would process the levels by the file name in asending order.<br>
                During the level randomization process, other level modiications would be made, such as enemy randomization, to reduce the iteration times.<br><br>
                The randomized levels would be in the "Stage_Shuffled" folder.
            </p>
            <hr>
            <h1>Updates (v1)</h1>
            <p>
                One step at a time is always a good thing, especially when there is no time pressure. That's why I have been rolling out updates to this project.<br>
                Having updates also means that bugs can be traced more easily, unlike developing all the thing at once.<br>
                Here is a list of updates for this project:<br>
                <span style="background-color: gold;">Note: this isn't an "offical" changelog</span>
                <table>
                    <tr><th>Version</th><th>Item</th><th>Description</th></tr>
                    <tr>
                        <td>v1.0.0</td>
                        <td>First release</td>
                        <td>I am surprised that I do not have some v0.x release.<br>
                            Anyways, it was released on April fools (which I did not considered during releasing this), so I released v1.2.0 pretty soon to avoid confusion for april fools jokes<br>
                            (Unrelated but I just wanted to talk about Stack overflow's April fools joke is fantastic)
                        </td>
                    </tr>
                    <tr>
                        <td>v1.2.0</td>
                        <td>Seeds, level groups and new UI</td>
                        <td>
                            I am impressed that I can work for that many features in a few days.<br>
                            Especially the new generator page. The old one took long enough to develop, and it is hard to decided that it needs a new one in a short period of time.
                        </td>
                    </tr>
                    <tr>
                        <td>v1.2.2</td>
                        <td>Block Variants</td>
                        <td>The release of this version means that I can read most of the content in the NSMBW arc level files.<br>Also fixed the Thwomp "Crush Forever" bug, which was caused by another oversight.</td>
                    </tr>
                    <tr>
                        <td>v1.2.3</td>
                        <td>Enemy Variants</td>
                        <td>I am kind of not satisfied with how the "Enemy Variants" work in the configuration file, but it was the best approach I have came up with (at least at the moment).<br>
                        (I mean that currently you have to know the raw data, which can be inconvenient at times.)</td>
                    </tr>
                    <tr>
                        <td>v1.2.4</td>
                        <td>Sprites disappearance - case closed</td>
                        <td>
                            After the previous release, I have put down the project for quite a bit, until my randomiser started to get noticed by some other content creator (I first watched NinTyler played this. It was a milestone for me considering he is known for Mario modding content.)<br>
                            (I was very introverted and shy to join any modding discord, or to promote the randomiser other than on YouTube and doing SEO)<br>
                            I have noticed that some important sprites have gone missing (such as the goal pole, door) in their playthrough. So I picked up the project again and fixed the bug a month later.<br>
                            That is the upper half of the story. The latter half is Entrance Randomisation, which was never marked out of Experiment due to difficulty to verify if the level is actually beatable, and also v2.0 came along, which includes zones randomisation.
                        </td>
                    </tr>
                    <tr>
                        <td>v1.2.5</td>
                        <td>First actual hotfix</td>
                        <td>This is the first time I got actual GitHub Issues created by others, and the reported bug would crash the game, so I released this as a hotfix.<br>The underlying changes is just that the load sprites list is missing some sprites if the "Reduce Lag" option is turned on, so I fixed it.</td>
                    </tr>
                    tr>
                        <td>v1.2.6</td>
                        <td>Level customisation - suggested by YOU!</td>
                        <td>
                            Since the last release, I got a few issues mentioning issues related to hardcoded levels features. There was also a request to seperate ambush levels to its own category. Therefore, I have redone the "Level" tab in the generator to not only looks nicer, but also includes more customisaion options.
                        </td>
                    </tr>
                </table>
            </p>
            <hr>
            <h1>Version 2 - Background and Process</h1>
            <p>
                I have always enjoyed watching loading zone randomisers. I started watching the one for TTYD when or before I started the project. Loading zobe randomisation has always been on my wishlist for the randomiser features.<br>
                The development started in Feburary / March.<br>
                Despite there now exist other loading zone randomiser for NSMBW (only one actually as of the time writing, the Pipe randomiser), I still wish to publish v2.0 as it has been where my attebtion went most of the time, 
            </p>
            <p>
                Each NSMBW level has an amount of "zone"zls (which are a list of definition of where the bounding box the player and camera is allowed to move, death barrier, sprites will be spawning, etc). Seeing this, I plan to seperate the level by zones. So in order to split the level into zones, I first need to know how zones are defined. After that, I need to know all the relavant stuff that can appear in the zone. (TL;DR: I need to know the entire level structure, which I didn't at that point) So, once again, huge shoutout to the Reggie! team for providing the code for me to understand the format of the level. After that, I have wrote some driver code to test whether it can read and write a level correctly. The driver code later has became a very important tool for me to test what part of the code went wrong. (You have no idea, the code came in handy even after I finished the main part of the code)
            </p>
            <p>
                After the save / read code, I need a way to store the extracted zones. This is where the core of the program starts. First, I have created a function to check whether a given position is in a zone, and categorise all stuff into zones. Then, I have created a dictionary / JSON structure to store the zones data. I used JSON, because it is the most convenient (familar) way to store some amount of data.
            </p>
            <p>
                Now that the level data were stored by zones, I need to test whether the stored data can be written back into a level. This is where "write_zone_test.py" was coded. Although it cannot output a full level without error, it does the job of confirming that my JSON file is good.
            </p>
            <p>
                With all that setup done (Yes, those are all setups), I can finally program in the main part.
            </p>
            <hr>
            <h1>How the program works (v2)</h1>
            <span style="background-color: gold;">This is a semi-documentation on how the program flows. For a more detailed guide on how to use the randomizer, see <a href="https://hbrohei.github.io/NSMRWii/generator/tut.html">this guide</a></span>
            <p>
                First, the program reads the JSON file that stored all the zone definitions and the configurations into the memory. It will then categorise all the zones based on the type of zone (full, normal, bonus, entrance, exit, after boss), and the tileset of the zone.
            </p>
            <p>
                The program would then start generating randomised levels.
            </p>
            <p>
                For every level, It would first generate an "entrance zone", as the entry point of the level. If the generated zone does not have an goal object, it would then proceed to generate 2 more zones (referred as "main zone" and "exit zone", with one of them having an goal object.<br>
                It would then proceed to check whether an extra zone is needed, by checking if there are more entrance than exit, or a secret exit is required by that level.<br>
                In all of the process above, it would also randomise other stuff, such as sprites and tiles.
            </p>
            <p>
                After this, all entrances will be linked by the order of: entrance zone -> main zone -> exit zone. All other remaining entrances would be randomly assigned an existing non-enterable entrances.
            </p>
            <p>
                At the end of each loop, all data processed would be converted into an ARC level file, playable in-game.
            </p>
            <p>
                <table>
                    <tr><th>Version</th><th>Item</th><th>Description</th></tr>
                    <tr>
                        <td>beta v2.0.0.0</td>
                        <td>First v2 release</td>
                        <td>
                            I am kinda relieved that this has now released, meaning that the program will work >50% of the time (If you know what I mean lol)
                        </td>
                    </tr>
                    <tr>
                        <td>beta v2.0.0.1</td>
                        <td>Rocks & Darkness intensifies</td>
                        <td>
                            It feels wrong to release v2.0 with only 1 feature, so I added random darkness and falling rocks. They are an addition, I guess. 
                        </td>
                    </tr>
                    <tr>
                        <td>beta v2.0.0.2</td>
                        <td>Skips, Checks & Fixes</td>
                        <td>This release contains a few fixes for bugs, options for skipping random zones, but most important in my opinion, CP2 implementation. (As generated levels sometimes will be very long)</td>
                    </tr>
                    <tr>
                        <td>beta v2.0.0.4</td>
                        <td>Wildcards Varients</td>
                        <td>
                            I have realised that ? blocks in sprite form cannot be randomised without resetting its attribute, so I introduced wildcard for the configuration. With this, some other creative combo is also possible.
                        </td>
                    </tr>
                </table>
            </p>
        </div>
        <div id="bottomNav" style="width:95%">
            <script src="https://hbrohei.github.io/Nav/bottom.js"></script>
        </div>
    </body>
</html>